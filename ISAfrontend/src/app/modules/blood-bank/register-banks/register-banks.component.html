<section class="vh-100 gradient-custom" style="color: #121212;">
    <div class="container py-5 h-100" >
      <div class="row justify-content-center align-items-center h-100 " >
        <div class="col-12 col-lg-9 col-xl-7" >
          <div class="card shadow-2-strong card-registration" style="border-radius: 15px; background-color: #F5F5F5;">
            <div class="card-body p-4 p-md-5" >
              <h3 class="mb-2 pb-2 pb-md-0 mb-md-5 title_black">Blood Bank Registration Form</h3>
              <form novalidate #registrationForm="ngForm" (ngSubmit)="saveBank(registrationForm)">
  
                <div class="row">
                  <div class="col-md-6 mb-4">
  
                    <div class="form-outline">
                      <input type="text" id="name" class="form-control" 
                      name="name"
                      required
                      pattern="([A-Z][a-z]+)(\s[A-Z]?[a-z]+)*"
                      [(ngModel)]="bloodBank.name"
                          #nameVar="ngModel"
                            [ngClass]="{'is-invalid': (nameVar.touched || nameVar.dirty) && !nameVar.valid }"/>
                        <span class="invalid-feedback">
                            <span *ngIf="nameVar.errors?.['pattern']">
                                Please use first capital letter.
                            </span>
                            <span *ngIf="nameVar.errors?.['required']">
                                Please enter bank name.
                            </span>
                        </span>
                      <label class="form-label" for="firstName">Name</label>
                    </div>
  
                  </div>
                  <div class="col-md-6 mb-4">
  
                    <div class="form-outline">
                        <input type="email" id="email" class="form-control"
                        name="email" required
                        pattern="[a-z0-9._]+@[a-z0-9-]+\.[a-z]{2,4}$"
                        [(ngModel)]="bloodBank.email"
                          #emailVar="ngModel"
                            [ngClass]="{'is-invalid': (emailVar.touched || emailVar.dirty) && !emailVar.valid }" />
                        <span class="invalid-feedback">
                            <span *ngIf="emailVar.errors?.['pattern']">
                                Please use convention 'aa@aa.aa'.
                            </span>
                            <span *ngIf="emailVar.errors?.['required']">
                                Please enter bank email.
                            </span>
                        </span>
                        <label class="form-label" for="email">Email</label>
                    </div>
  
                  </div>
                </div>
  
                <div class="row">
                  <div class="col-md-12 mb-4 align-items-center">
                    <div class="form-group">
                        <textarea class="form-control" rows="3" id="comment" style="resize: none;" [(ngModel)]="bloodBank.description" name="description"></textarea>
                        <label for="description">Description</label>
                      </div>
                  </div>
                </div>
  
                <div class="row">
                  <div class="col-md-6 mb-4 pb-2">
  
                    <div class="form-outline">
                      <input type="text" id="country" class="form-control" 
                      name="country" required
                      pattern="([A-Z][a-z]+)(\s[A-Z][a-z]+)*"
                      [(ngModel)]="bloodBank.address.country"
                          #countryVar="ngModel"
                            [ngClass]="{'is-invalid': (countryVar.touched || countryVar.dirty) && !countryVar.valid }"/>
                        <span class="invalid-feedback">
                            <span *ngIf="countryVar.errors?.['pattern']">
                                Please use first capital letters.
                            </span>
                            <span *ngIf="countryVar.errors?.['required']">
                                Please enter country value of address.
                            </span>
                        </span>
                      <label class="form-label" for="country">Country</label>
                    </div>
  
                  </div>
                  <div class="col-md-6 mb-4 pb-2">
  
                    <div class="form-outline">
                      <input type="text" id="city" class="form-control" 
                      name="city" required=""
                      pattern="([A-Z][a-z]+)(\s[A-Z][a-z]+)*" 
                      [(ngModel)]="bloodBank.address.city"
                          #cityVar="ngModel"
                            [ngClass]="{'is-invalid': (cityVar.touched || cityVar.dirty) && !cityVar.valid }"/>
                        <span class="invalid-feedback">
                            <span *ngIf="cityVar.errors?.['pattern']">
                                Please use first capital letters.
                            </span>
                            <span *ngIf="cityVar.errors?.['required']">
                                Please enter city value of address.
                            </span>
                        </span>
                      <label class="form-label" for="city">City</label>
                    </div>
  
                  </div>
                </div>
  
                <div class="row">
                    <div class="col-md-6 mb-4 pb-2">
  
                        <div class="form-outline">
                          <input type="text" id="street" class="form-control" 
                          name="street" required
                          pattern="([A-Z][a-z]+)(\s[A-Z]?[a-z]+)*" 
                          [(ngModel)]="bloodBank.address.street"
                          #streetVar="ngModel"
                            [ngClass]="{'is-invalid': (streetVar.touched || streetVar.dirty) && !streetVar.valid }"/>
                            <span class="invalid-feedback">
                                <span *ngIf="streetVar.errors?.['pattern']">
                                    Please use first capital letters.
                                </span>
                                <span *ngIf="streetVar.errors?.['required']">
                                    Please enter street value of address.
                                </span>
                            </span>
                          <label class="form-label" for="street">Street</label>
                        </div>
      
                      </div>
                      <div class="col-md-6  pb-2">
      
                        <div class="form-outline">
                          <input type="text" id="streetNumber" class="form-control"
                          name="streetNumber" required
                          pattern="([0-9]{1,3})[A-Z]?"
                          [(ngModel)]="bloodBank.address.number"
                          #numberVar="ngModel"
                            [ngClass]="{'is-invalid': (numberVar.touched || numberVar.dirty) && !numberVar.valid }" />
                            <span class="invalid-feedback">
                                <span *ngIf="numberVar.errors?.['pattern']">
                                    Please have at least one number and possibly a letter.
                                </span>
                                <span *ngIf="numberVar.errors?.['required']">
                                    Please enter number value of street.
                                </span>
                            </span>
                          <label class="form-label" for="streetNumber">Street Number</label>
                        </div>
                      </div>
                  </div>
                <div class="row">
                  <div class=" form-outline col-md-6 mb-4 pb-2">
  
                    <input type="number" class="input form-control"
                    [(ngModel)]="bloodBank.startTime" min="0" max="24"
                    name="startTime" required
                    #startTimeVar="ngModel" [ngClass]="{'is-invalid': ((startTimeVar.touched || startTimeVar.dirty) && !startTimeVar.valid)
                      || (bloodBank.startTime > bloodBank.endTime) }">
                    <span class="invalid-feedback">
                      <span *ngIf="startTimeVar.errors?.['required']">
                          Please choose start of work time.
                      </span>
                      <span *ngIf="bloodBank.startTime > 23 || bloodBank.startTime < 0">
                        Time has to be between 0 and 23 hours.
                      </span>
                      <span *ngIf="bloodBank.startTime > bloodBank.endTime">
                        Start time has to be before end time.
                      </span>
                    </span>
                    <label class="form-label select-label">Choose start of work time</label>
  
                  </div>
                  <div class=" form-outline col-md-6 mb-4 pb-2">
  
                    <input type="number" class="input form-control"
                    [(ngModel)]="bloodBank.endTime" min="0" max="23"
                    name="endTime" required
                    #endTimeVar="ngModel" [ngClass]="{'is-invalid': ((endTimeVar.touched || endTimeVar.dirty) && !endTimeVar.valid) 
                    || (bloodBank.startTime > bloodBank.endTime)}">
                    <span class="invalid-feedback">
                      <span *ngIf="endTimeVar.errors?.['required']">
                          Please choose end of work time.
                      </span>
                      <span *ngIf="bloodBank.endTime > 23 || bloodBank.endTime < 0">
                        Time has to be between 0 and 23 hours.
                      </span>
                      <span *ngIf="bloodBank.startTime > bloodBank.endTime">
                        End time has to be after start time.
                      </span>
                    </span>
                    <label class="form-label select-label">Choose end of work time</label>
  
                  </div>
                </div>
                  
                <div>
                  <input class="btn btn-primary submit" type="submit" value="Register"  [disabled]="!registrationForm.valid || (bloodBank.startTime > bloodBank.endTime)"/>
                </div>
  
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
