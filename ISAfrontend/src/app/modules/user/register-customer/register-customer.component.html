<h1 align-center>Customer registration</h1>

<section class="vh-100 gradient-custom" style="color: #121212">
  <div class="container py-5 h-100">
    <div class="row justify-content-center align-items-center h-100">
      <div class="col-12 col-lg-9 col-xl-7">
        <div
          class="card shadow-2-strong card-registration"
          style="border-radius: 15px"
        >
          <div class="card-body p-4 p-md-5">
            <h3 class="mb-2 pb-2 pb-md-0 mb-md-5">
              Customer Registration Form
            </h3>
            <form
              novalidate
              #registrationForm="ngForm"
              (ngSubmit)="saveCustomer(registrationForm)"
            >
              <div class="row">
                <div class="col-md-6 mb-4">
                  <div class="form-outline">
                    <input
                      type="text"
                      id="firstName"
                      class="form-control form-control-lg"
                      name="firstName"
                      required
                      pattern="([A-Z][a-z]+)(\s[A-Z]?[a-z]+)*"
                      [(ngModel)]="customer.firstName"
                      #firstNameVar="ngModel"
                      [ngClass]="{
                        'is-invalid':
                          (firstNameVar.touched || firstNameVar.dirty) &&
                          !firstNameVar.valid
                      }"
                    />
                    <span class="invalid-feedback">
                      <span *ngIf="firstNameVar.errors?.['pattern']">
                        Please use first capital letter.
                      </span>
                      <span *ngIf="firstNameVar.errors?.['required']">
                        Please enter first name.
                      </span>
                    </span>
                    <label class="form-label" for="firstName">First Name</label>
                  </div>

                  <div class="form-outline">
                    <input
                      type="text"
                      id="lastName"
                      class="form-control form-control-lg"
                      name="lastName"
                      required
                      pattern="([A-Z][a-z]+)(\s[A-Z]?[a-z]+)*"
                      [(ngModel)]="customer.lastName"
                      #lastNameVar="ngModel"
                      [ngClass]="{
                        'is-invalid':
                          (lastNameVar.touched || lastNameVar.dirty) &&
                          !lastNameVar.valid
                      }"
                    />
                    <span class="invalid-feedback">
                      <span *ngIf="lastNameVar.errors?.['pattern']">
                        Please use first capital letter.
                      </span>
                      <span *ngIf="lastNameVar.errors?.['required']">
                        Please enter last name.
                      </span>
                    </span>
                    <label class="form-label" for="lastName">Last Name</label>
                  </div>

                  <div class="form-outline">
                    <input
                      type="username"
                      id="username"
                      class="form-control form-control-lg"
                      name="username"
                      required
                      pattern="[a-zA-Z0-9._]+"
                      [(ngModel)]="customer.username"
                      #usernameVar="ngModel"
                      [ngClass]="{
                        'is-invalid':
                          (usernameVar.touched || usernameVar.dirty) &&
                          !usernameVar.valid
                      }"
                    />
                    <span class="invalid-feedback">
                      <span *ngIf="usernameVar.errors?.['pattern']">
                        Valid characters are: Letters, numters, dot and
                        underscore
                      </span>
                      <span *ngIf="usernameVar.errors?.['required']">
                        Please enter username.
                      </span>
                    </span>
                    <label class="form-label" for="username">Username</label>
                  </div>

                  <div class="form-outline">
                    <input
                      type="password"
                      id="password"
                      class="form-control form-control-lg"
                      name="password"
                      required
                      pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
                      [(ngModel)]="customer.password"
                      #passwordVar="ngModel"
                      [ngClass]="{
                        'is-invalid':
                          (passwordVar.touched || passwordVar.dirty) &&
                          !passwordVar.valid
                      }"
                    />
                    <span class="invalid-feedback">
                      <span *ngIf="passwordVar.errors?.['pattern']">
                        Password must be over 8 characters, must contain letter
                        and number.
                      </span>
                      <span *ngIf="passwordVar.errors?.['required']">
                        Please enter password.
                      </span>
                    </span>
                    <label class="form-label" for="password">Password</label>
                  </div>

                  <!-- CONFIRM PASSWORD ZAKOMENTARISAN
                  <div class="form-outline">
                    <input
                      type="password"
                      id="confirmPassword"
                      class="form-control form-control-lg"
                      name="confirmPassword"
                      required
                      match="password"
                      [(ngModel)]="customer.password"
                      #confirmPasswordVar="ngModel"
                      [ngClass]="{
                        'is-invalid':
                          (confirmPasswordVar.touched ||
                            confirmPasswordVar.dirty) &&
                          !confirmPasswordVar.valid
                      }"
                    />
                    <span class="invalid-feedback">
                      <span *ngIf="confirmPasswordVar.errors?.MustMatch">
                        Password must be over 8 characters, must contain letter
                        and number.
                      </span>
                      <span *ngIf="confirmPasswordVar.errors?.['required']">
                        Please confirm password.
                      </span>
                    </span>
                    <label class="form-label" for="confirmPassword"
                      >Confirm Password</label
                    >
                  </div> -->

                  <div class="form-outline">
                    <input
                      type="email"
                      id="email"
                      class="form-control form-control-lg"
                      name="email"
                      required
                      pattern="[a-z0-9._]+@[a-z0-9-]+\.[a-z]{2,4}$"
                      [(ngModel)]="customer.email"
                      #emailVar="ngModel"
                      [ngClass]="{
                        'is-invalid':
                          (emailVar.touched || emailVar.dirty) &&
                          !emailVar.valid
                      }"
                    />
                    <span class="invalid-feedback">
                      <span *ngIf="emailVar.errors?.['pattern']">
                        Please use convention 'aa@aa.aa'.
                      </span>
                      <span *ngIf="emailVar.errors?.['required']">
                        Please enter email.
                      </span>
                    </span>
                    <label class="form-label" for="email">Email</label>
                  </div>
                </div>
              </div>
              <div class="col-md-6 mb-4"></div>

              <!-- <div class="row">
                  <div class="col-md-6 mb-4 pb-2">
  
                    <div class="form-outline">
                      <input type="text" id="country" class="form-control form-control-lg" 
                      name="country" required
                      pattern="([A-Z][a-z]+)(\s[A-Z][a-z]+)*"
                      [(ngModel)]="bloodBank.address.country"
                          #countryVar="ngModel"
                            [ngClass]="{'is-invalid': (countryVar.touched || countryVar.dirty) && !countryVar.valid }"/>
                        <span class="invalid-feedback">
                            <span *ngIf="countryVar.errors?.['pattern']">
                                Please use first capital letters.
                            </span>
                            <span *ngIf="countryVar.errors?.['required']">
                                Please enter country value of address.
                            </span>
                        </span>
                      <label class="form-label" for="country">Country</label>
                    </div>
  
                  </div>
                  <div class="col-md-6 mb-4 pb-2">
  
                    <div class="form-outline">
                      <input type="text" id="city" class="form-control form-control-lg" 
                      name="city" required=""
                      pattern="([A-Z][a-z]+)(\s[A-Z][a-z]+)*" 
                      [(ngModel)]="bloodBank.address.city"
                          #cityVar="ngModel"
                            [ngClass]="{'is-invalid': (cityVar.touched || cityVar.dirty) && !cityVar.valid }"/>
                        <span class="invalid-feedback">
                            <span *ngIf="cityVar.errors?.['pattern']">
                                Please use first capital letters.
                            </span>
                            <span *ngIf="cityVar.errors?.['required']">
                                Please enter city value of address.
                            </span>
                        </span>
                      <label class="form-label" for="city">City</label>
                    </div>
  
                  </div>
                </div> -->

              <!-- <div class="row">
                    <div class="col-md-6 mb-4 pb-2">
  
                        <div class="form-outline">
                          <input type="text" id="street" class="form-control form-control-lg" 
                          name="street" required
                          pattern="([A-Z][a-z]+)(\s[A-Z]?[a-z]+)*" 
                          [(ngModel)]="bloodBank.address.street"
                          #streetVar="ngModel"
                            [ngClass]="{'is-invalid': (streetVar.touched || streetVar.dirty) && !streetVar.valid }"/>
                            <span class="invalid-feedback">
                                <span *ngIf="streetVar.errors?.['pattern']">
                                    Please use first capital letters.
                                </span>
                                <span *ngIf="streetVar.errors?.['required']">
                                    Please enter street value of address.
                                </span>
                            </span>
                          <label class="form-label" for="street">Street</label>
                        </div>
      
                      </div>
                      <div class="col-md-6  pb-2">
      
                        <div class="form-outline">
                          <input type="text" id="streetNumber" class="form-control form-control-lg"
                          name="streetNumber" required
                          pattern="([0-9]{1,3})[A-Z]?"
                          [(ngModel)]="bloodBank.address.number"
                          #numberVar="ngModel"
                            [ngClass]="{'is-invalid': (numberVar.touched || numberVar.dirty) && !numberVar.valid }" />
                            <span class="invalid-feedback">
                                <span *ngIf="numberVar.errors?.['pattern']">
                                    Please have at least one number and possibly a letter.
                                </span>
                                <span *ngIf="numberVar.errors?.['required']">
                                    Please enter number value of street.
                                </span>
                            </span>
                          <label class="form-label" for="streetNumber">Street Number</label>
                        </div>
      
                      </div>
                </div> -->
              <div>
                <input
                  class="btn btn-primary btn-lg submit"
                  type="submit"
                  value="Register"
                  [disabled]="!registrationForm.valid"
                />
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
